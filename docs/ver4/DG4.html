<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="keywords" content="JTSDK,Jt-ware,wsjtx,jtdx,js8call,build wsjtx,compile wsjtx,Qt,Windows,software,development">
	<title>Hamlib SDK 4.1 Deployment Guide</title>
	<link rel="stylesheet" href="../style-new.css">
	<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
</head>

<body>
	
<table width="100%" border="0">
	<tr>
		<td>
			<table width="*" border="0">
    			<tr>
      				<td>
						<img src="../favicon.ico" alt=""/>
					</td>
      				<td>
		  				<h1>HAMLIB SDK Version 4 </h1>
						<h2>Evolving the JT-ware Software Developer's Kit (JTSDK)</h2>
					</td>
    			</tr>
  			</table>
		</td>
		<td align="right" style="vertical-align: top"  >
			<a href="UG4.html"><img src="../UGIcon.png" width="34" height="33" alt=""/></a>
			<a href="index4.html"><img src="../HomeIcon.png" width="34" height="33" alt=""/></a>
		</td>
	</tr>
</table>

	<hr>
	<table width="100%" border="0">
		<tr>
		<td width="14.3%" align="center"><a href="../ver4/DG4.html">Installation</a></td> 
			<td width="14.3%" align="center"><a href="../ver4/DG4-Build-General.html">Build x64</a></td>
			<td width="14.3%" align="center"><a href="../ver4/DO4.html">Developers</a></td>
			<td width="14.3%" align="center"><a href="../ver4/AN4.html">Notes</a></td> 
			<td width="14.3%" align="center"><a href="../ver4/QU4.html">Questions</a></td>
			<td width="14.3%" align="center"><a href="https://sourceforge.net/projects/hamlib-sdk/">Sourceforge</a></td> 
			<td width="14.2%" align="center"><a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/">Download</a</td>
		</tr>
	</table>
	<hr/>
	<h2>JTSDK 4.1 Deployment Guide</h2>
	<hr>

	<h3>PowerShell Security Warnings</h3>
    <ul>
	<p>You may receive the following <strong>security notification</strong>:</p>
	</ul>
<div class="reducewidth"> <pre>
Execution Policy Change
The execution policy helps protect you from scripts that you do not trust. Changing 
the execution policy might expose you to the security risks described in the 
about_Execution_Policies help topic at https:/go.microsoft.com/fwlink/?LinkID=135170. 
Do you want to change the execution policy?
[Y] Yes  [A] Yes to All  [N] No  [L] No to All  [S] Suspend  [?] Help (default is "N"):
</pre>
	</div>
	<ul>
	<p>It is safe to select <strong>Y</strong>. These scripts are not any processor flaw tests. Remember
	that developing these scripts is also a learning exercise for the Development Team.</p>
	</ul>
	

	<hr>
<h2>Deployment</h2>
<hr>

	<h3>Preparation: Deploy a Virtualisation Environment</h3>

	<ul>
	<p>It is recommended to deploy the JTSDK into a fresh Windows Virtual Machine. For those 
	unfamiliar with &quot;Virtual Machines&quot; and &quot;Virtualisation Technologies&quot; you shoud refer to  <a href="https://www.redhat.com/en/topics/virtualization/what-is-virtualization">https://www.redhat.com/en/topics/virtualization/what-is-virtualization</a> .</p>
	<p><strong> Note:</strong> Almost EVERY CPU that Runs Windows x64 these days has virtualisation support.</p>
	<p>If you have concerns please refer to <a href="https://www.technorms.com/8208/check-if-processor-supports-virtualization">https://www.technorms.com/8208/check-if-processor-supports-virtualization</a> . </p>
	<p>There are lots of virtualisation environments available. Click on the links below to 
	obtain details on how to deploy these systems:</p>
	<ul>
	<li><a href="https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v">Hyper-V</a></li>
	<li><a href="https://kb.vmware.com/s/article/2057907">VMWare Workstation</a> </li>
	<li><a href="https://kb.vmware.com/s/article/2053973">VMware Player</a></li>
	<li><a href="https://www.virtualbox.org/wiki/Downloads">Virtual Box</a></li>
	</ul>
	<p>Trial Virtual Machine images for Windows 10 (with Microsoft&#39;s Compiler Suite) can 
	be downloaded from <a href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/">https://developer.microsoft.com/en-us/windows/downloads/virtual-machines</a>.</p>
	<p>These Virtual machines should have a lifetime of at least 30 days.</p>
	</ul>

	<h3>Pre-Requisite: Ensure that the latest WSJT-X and/or JT-ware Release is deployed.</h3>
    <ul>
      <p>Due to changes within CMake from version 3.28.0 onwards, it may be necessary to have a current deployment of WSJT-X and/or your JT-ware variant that you are working on deployed and <b>IN THE SEARCH PATH</b>.</p>
      <p>Obtain a current release version of your product from:</p>
      <ul>
        <li>WSJTX: <a href="https://wsjt.sourceforge.io/wsjtx.html">https://wsjt.sourceforge.io/wsjtx.html</a></li>
        <li>JTDX: <a href="https://sourceforge.net/projects/jtdx/">https://sourceforge.net/projects/jtdx/</a></li>
        <li>JS8Call: <a href="http://js8call.com/">http://js8call.com/</a></li>
      </ul>
      <p>Install the base package so that it can be found in the Windows search path.</p>
    </ul>
    <h3></h3>
	<h3>Step 1: Deploy the JTSDK64-4.1.0.exe Installer and the latest Update package</h3>

	<ul>
	  <p><strong> Note that these instructions assumes a fresh Windows 11 Virtual Machine is used. </strong></p>
		<ul>
			<li>Download and deploy the installer <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/JTSDK64-4.1.0.exe">JTSDK64-4.1.0</a> inside a FRESH VM.</li>	
			<li>Deploy the latest Update Package (if it is available). The first anticipated package would be <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/JTSDK64-4.1.0-U1.exe">JTSDK64-4.1.0-U1</a> .</li>
		</ul>
	</ul>
	<table width="*" align="center" border="1">
		<tr>
			<td class="custd">The latest&nbsp; Installer and Update packages can be found at&nbsp;<a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/">https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/</a> .</td>
		</tr>
	</table>
		<p></p>
<ul>
    <p>It is recommended to use all the default settings and file locations provided by the installer.</p>
	    <p><strong>Note</strong>: If there are previous update packages available for download only deploy the latest update package version.&nbsp; &nbsp;</p>
</ul>
	<h3>Step 2: Launch the Installation Environment</h3>

<h4>Preparation: Disable Antivirus Real Time Scanning</h4>   

    <ul>
    <p>It is recommended that you disable real-time scanning for your Antivirus program. This can significantly slow down deployment.</p>
	<p>As users will have many varied solutions (Including the most common option being Windows Antivirus) the steps to do this will not be documented here.</p>
    </ul>	
		
		
    <h4>Special Note for Windows 11, Update Packages and VC Runtimes Deployment</h4>   

    <ul>
    <p>When you start up the <em>JTSDK64-Setup</em> environment in <strong>Windows 11</strong> you may notice the following:</p>
    </ul>
	<div class="reducewidth">
<pre>
-------------------------------------------
           JTSDK Setup v4.1.0
-------------------------------------------

  Required Tools

     PowerShell ..... 5.1.26100.1882
     VC Runtimes .... Not Installed
     Git ............ Not Installed
     OmniRig ........ Not Installed

  Qt Tool Chain(s) Deployed

    Qt: none

    Tools: none

  Optional Components

     VS Code ........ Not Installed
     Boost .......... Not Installed

  Post Install / Manual Setup Commands

     Main Install ... postinstall
     MSYS2 Shell .... msys2
	 
PS C:\JTSDK64-Tools>
</pre> </div>
<h4>Deployment</h4>
<ul>
	<p>Commence Deployment with the following command: </p>	
	<ul>
	  <li><b>postinstall</b></li>
	</ul>
      <p>The command <b>postinstall</b> starts the deployment process.</p>
</ul>
<div class="reducewidth"> <pre>
------------------------------------------------------
  JTSDK64 Tools Post Install/Redeployment Selections
------------------------------------------------------

 At the prompts indicate which components you want to
 install or redeploy.

 For VC Runtimes, OmniRig, Git, MSYS2 and VS Code use:
 --> Y/Yes or N/No

 Qt deployment now just runs the Installer and/or
 Maintenance Tool and no longer offers a scripted
 deployment option. Use:
 --> Y/Yes or N/No

 NOTE: VC Runtimes, Git, Qt and MSYS2 are mandatory to
 build JT-software. The Latest PowerShell is highly
 recommended.

* Enter Your Install/Redeployment Selection(s):

 (recommended) Latest PowerShell (Y|N) .:
</pre></div>


<ul>
    <p>It is highly recommended (for performance reasons) that you deploy the latest PowerShell Core .</p>
    <ul>
        <li>Press 'Y'</li>
    </ul>
</ul>

<div class="reducewidth"> <pre>
(required) VC/C++ Runtimes (Y|N) .....:</pre> </div>
<ul>
	<p> The Visual C/C++ Runtimes are required.</p>
	<ul>
		<li>Press 'Y'</li>
 	</ul>
</ul>

<div class="reducewidth"> <pre>
(required) OmniRig (Y|N) ..............:
</pre>
</div>
<ul>
	<P>The OmniRig Rig Control tool is required.</p> 
	<ul><li>Select &#39;Y&#39; .</li>
	</ul>
</ul>
<div class="reducewidth">
<pre>
(required) Git-SCM (Y|N) ..............:
</pre></div>
<ul>
	<p>The Git-SCM is required.</p>
	<ul><li>Select &#39;Y&#39; .</li>
	</ul>
</ul>
<div class="reducewidth">
<pre>
(required) Qt (Y|N) ...................:
</pre></div>
<ul>
	<p><strong>Note</strong>: Qt 5.15.2 is <strong>NO LONGER AVAILABLE THROUGH MAINSTREAM REPOSITORIES</strong>.</p>
    <p>Qt 5.15.2 and any later versions, plus their support tools (i.e. MinGW 8.1, MinGW 13.1) must be deployed manually. Qt 5.15.2 must be deployed from &quot;Archive&quot; repositories......................</p>
    <p>As it is impractical to script deployment from Archive repos, scripted deployments have been removed. One must manually deploy Qt and its components.</p>
  	<ul>
    	<li>Select 'Y' .</lo>
  	</ul>
	<p><strong>If you select 'N'</strong></p>
	<p>If "N" is selected then an additional option is made available:</p>
</ul>
<div class="reducewidth">
<pre>
 (required) Qt 6.6.3 (Y|N) ..........: N
     Create link to Qt (Y|N) ........:
</pre></div>
<ul>
  	<p>If "Y" is selected the system will search for Qt deployments and allow you to set up a link to a custom Qt deployment.</p>
	<p>This permits you to create the necessary link within <strong>x:\JTSDK64-Tools\tools</strong> to your Qt deployment. Action is not documented here - please experiment before using.</p> 
</ul>
<div class="reducewidth">
<pre>
(required) MSYS2 Setup (Y|N) ..........:
</pre></div>
<ul>
	<p>You are required to set up the MSYS2 environment.</p>
	<ul>
		<li>Select &#39;Y&#39; .</li>
	</ul>
</ul>
<div class="reducewidth">
<pre>
(optional) VS Code (Y|N) ..............:
</pre> </div>
<ul>
	<p><a href="https://code.visualstudio.com/">Visual Studio Code</a> is an optional component. VS Code is an excellent editor for working with 
	PowerShell scripts (if you need to customise these yourself). It also has a number of useful code formatter addins.</p>

	<p>Note that deploying VS Code is not mandatory for JTSDK operation.</p>
	<ul>
		<li>Select &#39;Y&#39; or &#39;N&#39;</li>
	</ul>
	<p>You are then presented with the selections you have made:</p>
</ul>	
<div class="reducewidth">
<pre>
* Your Installation Selections:

  --> Latest PowerShell ................: Y
  --> VC Runtimes ......................: Y
  --> OmniRig ..........................: Y
  --> Git ..............................: Y
  --> Qt ...............................: Y
  --> MSYS2 ............................: Y
  --> VS Code ..........................: Y
</pre></div>
<ul>
	<p>During this phase some tools will require some interaction at the keyboard or via the 
	mouse (especially the Qt deployment as one MUST now have their own account and agree 
	to their licensing terms).</p>
</ul>
	
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong>Follow on-screen prompts carefully.</strong></td>
	</tr>
</table>
<br/>
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong>Manual intevention with installation programs will be required.</strong></td>
	</tr>
</table>
<br/>
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong>If anything goes wrong RE-START the postinstall script, selecting 'N' to the option that failed.</strong></td>
	</tr>
</table>
<ul>
      <p>Refer any installation issues issues to the <a href="https://groups.io/g/JTSDK">JTSDK Forum</a></p>
</ul>
</ul>
<h4>Note: Deploying Qt</h4> 
<ul>
	<p>A set of resources for deploying Qt 5.15.2 is available at <a href="https://hamlib-sdk.sourceforge.io/Qt/indexQt.html">https://hamlib-sdk.sourceforge.io/Qt/indexQt.html</a></p>
	<p><strong>Qt must be deployed to <u>x:\JTSDK64-Tools\tools\Qt</u></strong></p>
	<p>The resource <a href="https://hamlib-sdk.sourceforge.io/Qt/UDQT.html">https://hamlib-sdk.sourceforge.io/Qt/UDQT.html</a> details how to deploy Qt 5.15.2 from Archive.</p> 
</ul><h4>Step 2a: Prepare the MSYS2 Environment</h4>
<ul>
	<p>A MSYS2 environment window will open as part of the <strong>postinstall</strong> process.</p>
</ul>
<div class="reducewidth">
<pre>
JTSDK64 Tools MSYS2 (MSYS)

For main menu, type ..: menu
For Help Menu, type ..: jthelp

Copyright (C) 2013-2024, GPLv3, Greg Beam, KI7MT and JTSDK Contributors.
This is free software; There is NO warranty; not even
for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

sdk@radio ~
$
</pre> </div>
	<ul>
	<li>At the $ prompt type: <strong>menu</strong>
	</li>
	</ul>
	<div class="reducewidth">
<pre>
-------------------------------------
JTSDK64 Tools Main Menu
------------------------------------

 1. Set MSYS2 path to find Qt compilers
 2. Update MSYS2
 3. Install Hamlib dependencies
 4. Install msys64 GNU Compilers
 5. Install FL-app dependencies
 6. Update MSYS2 Keyring (Deprecated)
 7. Build Hamlib - Static Libraries
 8. Build Hamlib - Dynamic Package
 9. Add Hamlib to pkgconfig
 a. Clear Hamlib Source
 b. Select HAMLIB Repository
 h. List help commands
 v. List version information

 e. Enter 'e' or 'q' to exit

Enter your selection, then hit <return>:

</pre></div>
<h4>Step 2b: Update the  MSYS2 Environment</h4>	
<ul>
	<p>Perform the following steps:</p>
	<ul>
		<li>Select <strong>2. Update MSYS2</strong> to update the MSYS2 environment. </li>
	</ul>
	<p>Note that the window may close on completion if there are updates. </p>
	<ul>
		<li>If the MSYS2 Window closes reopen it within the <strong>JTSDK64-Setup</strong> environment by typing <strong>msys2</strong> at the PowerShell environment prompt.</li>
		<li>If the update process requests that you close the open <strong>msys2</strong> terminal then close the window. Re-open the environment by typing <strong>msys2</strong> at the PowerShell environment prompt.</li>
		<li>Repeat Step 2b - if necessary - until there are no more updates available.</li>
	</ul>
</ul>
<h4>Step 2c: Install Hamlib Dependencies</h4>
<ul>
	<p>Perform the following steps:</p>
	<ul>
		<li>If the MSYS2 Window closes reopen it within the <strong>JTSDK64-Setup</strong> environment with <strong>msys2</strong></li>
		<li>Back at menu, select <strong>3. Install Hamlib Dependencies</strong> to deploy the tools and libraries needed to build Hamlib.</li>
		<li>Select <strong> 4. Install msys64 GNU Compilers </strong> so that a msys64 POSIX-compliant build environment can be launched.</li>
	</ul>
	<br/>
	<table width="*" align="center" border="1">
		<tr>
			<td class="custd"><strong>The basic deployment is now complete.</strong></td>
		</tr>
	</table>
	<p>Once complete you should exit the <strong>JTSDK64-Setup</strong> environment.</p> 
</ul>
<ul>
	<ul>
		<li>Close the <strong>JTSDK64-Setup</strong> and any MSYS2 terminal shells. </li>
	</ul>
</ul>
<h3>Step 3: Set Up The Main Tools Environment</h3>
<ul>
<p>Perform the following step:</p>
	<ul>
		<li>Launch the <strong>JTSDK64-Tools</strong> environment from the icon on your desktop.</li>
	</ul>
</ul>
	
<h4>(Optional) Step 3a: Upgrade your Qt Deployment</h4>
<ul> 
	<p>As of March 2024 it has been observed that <strong>Qt 5.15.2</strong> is no longer available from "Mainstream" installer sources</p>
	<table width="*" align="center" border="1">
		<tr>
			<td class="custd"><strong>Qt 5.15.2 is still available from "Archive" ast the time of writing. This means that Qt must be deployed manually from "Archive" Repositories</strong></td>
		</tr>
	</table>
	<p>By this stage you should already have Qt deployed</p>
	<p>Yoiu can add additional kits such as <strong>Qt 6.8.3</strong> along with its <strong>MinGW 13.1.0</strong> components and the <strong>Qt Maintenance Tool</strong>.&nbsp;</p>
	<table width="*" align="center" border="1">
		<tr>
			<td class="custd"><strong>See the guide <a href="https://sourceforge.net/projects/hamlib-sdk/files/JTware-Deployment/Deploying-Archived-Versions-of-Qt-via-Maintenance-Tool.docx">https://sourceforge.net/projects/hamlib-sdk/files/JTware-Deployment/Deploying-Archived-Versions-of-Qt-via-Maintenance-Tool.docx</a> for latest instructions</strong></td>
		</tr>
	</table>
</ul>
<p><strong>Example: Adding additional Qt Kits</strong></p>
<ul>
	<p>Perform the following steps:</p>
	<ul>
		<li>Navigate to the Qt Deployment directory</li>	
		<li>Run the <strong>Qt Maintenance Tool</strong> from your Qt deployment directory (i.e. <strong>C:\JTSK64-Tools\tools\Qt</strong>)</li>
	</ul>
	<p>To add <strong>Qt 6.8.3</strong> (as an example):</p>
	<ul>
		<li>Add <strong>Qt 6.8.3</strong> MinGW. [ Note that the package is MinGW 13.1.0 64-bit ]</li>
		
		<li>Ensure that components <strong>Qt 6.8.3</strong>/<strong>MinGW 13.1.0 64 bit</strong> and <strong>Qt 6.8.3 Qt5 Compatability Module</strong> are added.</li>
		
		<li>Select <strong>Qt 6.8.3</strong>/All Additional Libraries .</li>
		
		<li>Add Developer and Designer Tools / MinGW 13.1.0 64-bit</li>
		
		<li>(Optional) Add the OpenSSL 1.1.1x toolkit (it helps with a WSJTX component downloads). <strong>Note:</strong> This may not be available now; an archived drop-in may be found <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-3.4-Stream/Qt-Deprecated-OpenSSL-1.1.1q_x86_x64.zip">here</a>.</li>
		<li>(Optional) Add the OpenSSL 3.x.x toolkit (for future capabilities).</li>
	</ul>
	<p>On Completion:</p>
	<ul>
		<li>Adjust the maker file in <strong>x:\JTSDK64-Tools\config</strong> marker file to match the Qt version that you want to use </li>
		<ul>
			<li>i.e. rename <strong>qt5.15.2</strong> to <strong>qt6.8.3</strong></li>
		</ul>
	</ul>
</ul>
	
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><p align="center">There must only be ONE marker file indicating the Qt version selected in <strong>x:\JTSDK64-Tools\config</strong></p>
			
		<p align="center">If the system abends with a warning check the <strong>x:\JTSDK64-Tools\config</strong> directory and remove the unwanted item with the prefix <strong>&#39;qt&#39;</strong></p>
		</td>
	</tr>
</table>	
<h4>Step 3b: Deploy Hamlib</h4>
<ul>
	<p>In <strong>JTSDK64-Tools</strong>:</p>
	<ul>
		<li>Launch the MSYS2 environment with: <strong>mingw64</strong></li>
		
		<li>Type: <strong>menu</strong></li>
		
		<li>Select <strong>7. Build Hamlib - Dynamic Libraries</strong></li>
	</ul>

	<p><strong>Note:</strong> If you have difficulties packaging <a href="https://hamlib.github.io/">Hamlib</a> with <a href="https://jtdx.tech/en/">JTDX</a> and/or <a href="http://js8call.com/">JS8CALL</a> you may need to use the The <strong>build-hamlib.sh</strong> script from the MSYS2 terminal as follows:</p>
	<ul>
		<li><strong>build-hamlib.sh -nlibusb -dynamic</strong></li>
	</ul>
	<p>This will take time as it pulls from the master repository for Hamlib. </p>

	<p>Source distribution repositories can be changed by changing the marker file in <strong>x:\JTSDK64-Tools\config</strong> </p>
	<ul>
		<li>Valid options are: <strong>hlmaster</strong> (default and recommended), <strong>hlw4mdb</strong>, <strong>hlg4wjs</strong> or <strong>hlnone</strong> for no default pull and update.</li>
	</ul>
</ul>	
<h4>Step 3c: Deploy Boost for our selected Qt/MinGW Version.</h4>
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong><em>&nbsp;** THIS IS SLOW **</em></strong>. Despite &quot;dropins&quot; being available on the Sourceforge and Github the best procedure is to build your own.</td>
	</tr>
</table>
<ul>
	<p>In JTSDK64-Tools:</p>
	<ul>
		<li>Type: <strong>Deploy-Boost</strong></li>
	</ul>
	<p>Anywhere between 5 to&nbsp; 90 minutes later you should now have a working deployment of Boost ) that is suitable to build JT-ware under your selected Qt version on your machine.</p> 
	<p>The version to be deployed is configurable in <strong>C:\JTSDK64-Tools\config\Versions.ini </strong>(see the key <em>boostv=</em> )</p>
	<p>Precompiled drop-in packages for Boost are no longer available. You will need to build your own.
</ul>
<table width="*" align="center" border="1">
	<tr>
		<td class="custd">A commandlet&nbsp; <strong>Reset-Boost.ps1</strong> is available to reset Boost builds.</td>
	</tr>
</table>
<br/>
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong>&nbsp;&nbsp; Environments should now be complete for building JT-ware&nbsp;&nbsp;</strong></td>
	</tr>
</table>

<h4>Step 3d: Deal with JT-ware packaging issues </h4>

<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong>There are build errors at the final packaging stage that may arise that can be overcome with this simple set of steps.</strong>.</td>
	</tr>
</table>

<p><strong>General JT-ware Packaging Issues: Support for an "extras" folder</strong></p>
<ul>
	<p>In order to overcome several issues <strong>extras</strong> folder has been included into <strong>X:\JTSDK64-Tools\tools</strong> where additional &quot;missing&quot; packaged DLL's can be placed.</p>
	<ul>
		<p>i.e. copy missing DLL's, such as <strong>libgfortran-4.dll</strong> into this folder for recent WSJTX-builds to succeed.</p>
	</ul>
	<p>Packaging requirements are therefore met.</p>
	<p>This option is NOT RECOMMENDED FOR LONG TERM USE. It should be used as a LAST RESORT.</p>
	<p>Fix the actual problem - whether it be how the libraries used are built OR it may be redundant scripted requirements from legacy code that has been re-introduced.</p>
</ul>

<strong>JTDX-specific Dependency issues</strong>
<ul>	
  	<p>There is a JTDX-specific build issue (that may have already been addressed) that can be fixed quite easily by adding components into the WIndows search path.
  	</p>
  	<p>On your Windows Destop:</p>
	<ul>
	  	<li>Start the <em>Windows Control Panel</em> (setps assumed to be known - i.e. Start / Run / Control).</li>
		<li>Select <em>System / Advanced System Properties / Advanced / Environment Variables</em></li>
		<li>Under &quot;User variables for &lt;user&gt;&quot;, <u>double-click on &quot;path&quot;</u></li>
		<li>In the &quot;Edit environment variable&quot; dialog add the following two entries:</li>
		<ul>
		    <li>Click New ==&gt; <strong>C:\Windows\SysWOW64\downlevel </strong></li>
		    <li>Click New ==&gt; <strong>C:\JTSDK64-Tools\tools\hamlib\qt\5.15.2\bin</strong></li>
		    <li> Click Ok / Ok.</li>
     	 </ul>
	  	<li>It is now advisable to reboot your system.</li>
  	</ul>	
	<p><strong>Note:</strong> This is a temporary work-arround (if it has not been addressed already). Hopefully JTDX CMakeFile scripts will be updated in a future release so these patches are no longer requried.</p>
	</ul>
</ul>
<h3>Step 4: Build your JT- Software</h3>

<ul>
	<p>The release-source-code pulled is for the latest JT-software release. The JT-source that you pull is configurable from <strong>C:\JTSDK64-Tools\config</strong>. Rename the file <strong>src-wsjtx</strong> from a default pull of WSJT-X to either <strong>src-jtdx</strong> or <strong>src-js8call</strong> if desired. </p>
	<p>The &quot;major&quot; used Jt-ware distributions are supported without discrimination or political comment.</p>
	<p>In JTSDK64-Tools:</p>
	<ul>
		<li>Type: <strong>jtbuild</strong>      i.e. <strong>jtbuild package</strong></li>
	</ul>
	<p>Options preferred are <strong>package</strong> (a Windows Installer package - the preferred &quot;clean&quot; way) and <strong>rinstall</strong> (just a static directory full of &quot;runnable&quot; files).</p>
</ul>
<hr/>
<h2>Upgrades and Updates</h2>
<hr/>
	<h3>Upgrades</h3>
	<ul>
		<p>It is highly recommended that the <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/JTSDK64-4.1.0.exe">JTSDK64-4.1.0</a> be a fresh, new deployment. There is no guarantee that there wil not be read-only snd other file conflicts if installed over the top of existing deployments. </p>
		<p><strong> It is highly recommended that kits are deployed into Virtual machines (see &quot;Deployment&quot; section).</strong> </p>
		<p>It is highly recommended that a new, fresh deployment be considered with each new base package release.</p>
		<p>You can keep old deployment(s) by closing all open environment windows and renaming the deployment folder (i.e. <strong>C:\JTSDK64-Tools</strong> to <strong>C:\JTSDK64-Tools-Old</strong>) </p>
		<p>If you need to revert back to your old deployment then all you need do is rename that folder back to its original filename (i.e. <strong>C:\JTSDK64-Tools-Old</strong> back to <strong>C:\JTSDK64-Tools</strong> ) </p>
	</ul>
<hr/>
<h2>Maintenance Updates</h2>
<hr/>	

<ul>
	<p>Maintenance updates will be applied in the form of &quot;Update" packages. The first anticipated update to the <strong>JTSDK64-4.1.0</strong> stream is&nbsp; <strong>JTSDK64-4.1.0-U3.exe</strong> .&nbsp;</p>
	<p>Maintainers are no longer supporting the "Base" and "Tools&quot; nomenclature.</p>
</ul>
<table width="*" align="center" border="1">
	<tr>
		<td class="custd"><strong>It is ESSENTIAL that any available update packages be applied to a deployment.</strong></td>
	</tr>
</table>
<ul>
	<p>You do not need to apply previous update packages. Just deploy the latest update package that is available as it contains all previous updates for that stream.</p>
</ul>
<ul>
 	<p><em>These steps assume that you have a deployed base environment</em></p>
	<ul>
		<li>Download any &quot;Tools&quot; packages from <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/">https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/</a></li>
	</ul>
	<p><strong>Note</strong> The first update package is <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/JTSDK64-4.1.0-U3.exe">JTSDK64-4.1.0-U3.exe</a>.</p>
</ul>
<h4>Application of Maintenance Update packages</h4>

	<ul>
	  <p>Update packages are updates to the <strong></strong>&quot;Base&quot; environments.</p>
		<p>Update packages can only be applied to matching stream deployments</p>
		<ul>
			<li>As an example (and if it exists), you can only apply a <strong>4.1.0-U1 </strong>package to deployments based on Version 4.1.0; It does not matter what&nbsp; update packages are deployed to the Version 4.1.0-stream deployment - the latest update package can always be applied to it.
        </ul>
		
        <p><em>These steps assume that you have a deployed base environment</em></p>
		<ul>
			<li>Download the latest update packagess from <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/">https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/</a>  </li>
		</ul>
		<p><strong>Note:</strong> The current package is <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/JTSDK64-4.1.0.exe">JTSDK64-4.1.0.exe</a>.</p>
		<ul>
			<li>Deploy the update package to your JTSDK install directory.</li>
		</ul>
		<p>Updates may apply to the MSYS2 environment. Therefore the &quot;profile&quot; directory for MSYS2 should be deleted and re-created.</p>
		<ul>
			<li>(Optional) Copy any folders stored under <strong>x:\JTSDK64-Tools\tools\msys64\home</strong> to a backup location. This should enable you to access previous work.</li>
		
			<li>Close any open MSYS2 environment terminal(s).</li>
		
			<li>Perform the system upgrade.</li>
		
			<li>Delete folders that exist under <strong>C:\JTSDK64-Tools\tools\msys64\home</strong>.</li>
	  
			<ul>
				<li>i.e: PowerShell: <strong> Remove-Item &quot;C:\JTSDK64-Tools\tools\msys64\home*&quot; -Recurse -Force </strong></li>
			</ul>
		
			<li>Re-open MSYS2 with the appropriate <strong>msys2</strong> environment initiator (i.e. <strong>mingw64</strong>) inside the PowerShell terminal</li>
		</ul>
		<p><strong>Note:</strong> The <strong>src</strong> directory in your backup should contain your previous work. It is safe to copy this enture foler across to your new MSYS2 Profile.</p>
		<p>You will need to pull down your Hamlib repository again and/or restore any custom work to folders created within the MSYS2 environment.</p>
	</li>
	</ul>
	<hr>
	<h2>Conclusion and Further References</h2>
	<hr>
	<ul>
	<p>The aim of <strong>JTSDK64-Tools</strong> is to use an Agile delivery approach to create a
	high-quality, yet flexible build system. </p>
	<p>Base ref: <a href="https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/README.md">https://sourceforge.net/projects/hamlib-sdk/files/Windows/JTSDK-4.1-Stream/README.md</a></p>
	</ul>
<hr>
<table width="100%" border="0">
	<tbody>
		<tr>
		  	<td>Editor: <a href="https://www.qrz.com/db/vk3vm">Steve VK3VM/VK3SIR</a></td>
			<td align="right"><a href="../hamlibdk [at] outlook.com" rel="nofollow" onclick="this.href='mailto:' + 'hamlibdk' + '@' + 'outlook.com'">Contact</a></td>
		</tr>
	</tbody>
</table>	
</body>
</html>